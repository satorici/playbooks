settings:
    name: "Static Source Code Analysis with Semgrep"
    labels: Security Semgrep

install:
    assertReturnCode: 0
    - [ python3 -m pip install semgrep ]

semgrep:
    error:
        assertStdoutContains:
        - value: Findings
        - severity: 1
        exec:
        - [ semgrep --config auto --severity ERROR ]
    warning:
        assertStdoutContains:
        - value: Findings
        - severity: 3
        exec:
        - [ semgrep --config auto --severity WARNING ]
    info:
        assertStdoutContains:
        - value: Findings
        - severity: 5
        exec:
        - [ semgrep --config auto --severity INFO ]
