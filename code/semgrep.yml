settings:
    name: "Static Source Code Analysis with Semgrep"
    labels: Security Semgrep

install:
    assertReturnCode: 0
    - [ python3 -m pip install semgrep ]

semgrep:
    error:
        assertStdoutContains: Findings
        # - severity: 1
        exec:
        - [ semgrep --config auto --severity ERROR ]
    warning:
        assertStdoutContains: Findings
        # - severity: 3
        exec:
        - [ semgrep --config auto --severity WARNING ]
    info:
        assertStdoutContains: Findings
        # - severity: 5
        exec:
        - [ semgrep --config auto --severity INFO ]
