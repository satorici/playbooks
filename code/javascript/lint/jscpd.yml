settings:
  name: "JSCPD: Copy/paste detector for programming source code"
  description: "JSCPD is a copy/paste detector for programming source code, supporting many languages including JavaScript, TypeScript, and more. It helps identify duplicated code that should be refactored."
  image: node
  author:
    - https://github.com/kucherenko
  gallery:
    - https://files.catbox.moe/w1e6r7.png
  example: satori run ./ --playbook satori://code/javascript/lint/jscpd.yml --report --output

jscpd:
  install:
    - npm install -g jscpd --silent

  test:
    assertReturnCode: 0
    assertStdout: false
    run:
      - jscpd . --min-lines 10 --min-tokens 100 --pattern "**/*.js,**/*.jsx,**/*.ts,**/*.tsx" --reporters json --silent 2>/dev/null || true