install:
    assertReturnCode: 0
    dependencies:
    - [ apt install -y python3.9 git ]
    clone:
    - [ git clone https://github.com/satorici/satori-cli.git ]
    requirements:
    - [ pip install -r satori-cli/requirements.txt ]

input:
    - value: config
      mutate: radamsa
      mutate_qty: 10
    - value: run
      mutate: radamsa
      mutate_qty: 10
    - value: upload
      mutate: radamsa
      mutate_qty: 10
    - value: playbooks
      mutate: radamsa
      mutate_qty: 10
    - value: stop-report
      mutate: radamsa
      mutate_qty: 10
    - value: status
      mutate: radamsa
      mutate_qty: 10
    - value: cron
      mutate: radamsa
      mutate_qty: 10
    - value: scan
      mutate: radamsa
      mutate_qty: 10
    - value: stop
      mutate: radamsa
      mutate_qty: 10
    - value: info
      mutate: radamsa
      mutate_qty: 10
    - value: clean
      mutate: radamsa
      mutate_qty: 10
    - value: report
      mutate: radamsa
      mutate_qty: 10

satori-cli:
    assertReturnCode: 0
    assertStderr: False
    meta:
    - [ $(input) ]
    mutated-mutated:
    - [ python3 satori-cli/satori-cli $(input) $(input) ]

